<?php
/*              AUTOGENERATED CODE - DO NOT EDIT !
This base class was generated by the Midas Content Management Framework
on {{ datetime }} and is closed to modifications by any meaning.
If you are looking for a place to alter the behaviour of the '{{ module_name }}' module,
then the '{{ module_name }}Module' (skeleton) class probally might be a good place to look. */

namespace {{ namespace }};

/**
 * Serves as the base class to the '{{ module_name }}'' module skeleton.
 */
abstract class {{ implementor }} extends {{ parent_class }}
{
    /**
     * Creates a new {{ implementor }} instance.
     */
    protected function __construct()
    {
        parent::__construct('{{ module_name }}', array( {% for field in fields %}

            {% spaceless %}
                {% if field.options|length > 0 %} 
                    {{ field.implementor }}::create('{{ field.name }}', array( {% for option in field.options %}
                {% autoescape false %} 
                {% spaceless %}
                        '{{ option.name }}' => {{ option.value }},
                {% endspaceless %} {% endautoescape %} {% endfor %}

            )),
                {% else %} 
                    {{ field.implementor }}::create('{{ field.name }}'), 
                {% endif %}

            {% endspaceless %} {% endfor %}

        ){% if options|length > 0 %}, array({% for option in options %}
            {% autoescape false %} 
            {% spaceless %}
                '{{ option.name }}' => {{ option.value }},
            {% endspaceless %} {% endautoescape %} {% endfor %} 
        ){% endif %});
    }

    /**
     * Returns the IDocument implementor to use when creating new documents.
     *
     * @return string Fully qualified name of an IDocument implementation.
     */
    protected function getDocumentImplementor()
    {
        return '{{ document_implementor }}';
    }
}
